<!DOCTYPE html>
<html>
<head>
<title>Football Fever!!</title>
  <script type="text/javascript">
    (function(p,u,s,h){
        p._pcq=p._pcq||[];
        p._pcq.push(['_currentTime',Date.now()]);
        s=u.createElement('script');
        s.type='text/javascript';
        s.async=true;
        s.src='https://cdn.pushcrew.com/js/2c342d59e2a3da4fc3b2818d9bfff198.js';
        h=u.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(s,h);
    })(window,document);
  </script>

<!--script> 
  _pcq.push(['APIReady', callbackFunction]);
  function callbackFunction() {
    console.log('API is ready');
window._pcq.push(['triggerOptIn']); 
console.log("script executed");
  }
</script--> 

</head>
<body>
  
 <!--script type = "text/javascript">

    _pcq.push(['APIReady', callbackFunction]); //check for the readiness of the pushcrew API
function callbackFunction() {
    var getNotif = document.getElementById("getNotif"); //This will be your button ID from the HTML code

    if (!pushcrew.subscriberId) {
        console.log("in notifications");
        getNotif.style.display = "block";
    } else if (pushcrew.subscriberId === -1) {
        //You can write the code to display the message for blocked users
        console.log("in blocked");
    } else {
        //You can write the code here to display message for already subscribed users
        console.log("in already");
    }
}

function showOptin() {
    _pcq.push(['triggerOptIn']);
}

_pcq.push(['subscriptionSuccessCallback', callbackFunctionOnSuccessfulSubscription]); //registers callback function to be called when user gets successfully subscribed
_pcq.push(['subscriptionFailureCallback', callbackFunctionOnFailedSubscription]); //registers callback function to be called when user gets successfully subscribed

function callbackFunctionOnSuccessfulSubscription(subscriberId, values) {
    getNotif.style.display = "none";
}

function callbackFunctionOnFailedSubscription(subscriberId, values) {
    getNotif.style.display = "none";
}

</script-->


<!--The below button code is only for representational purpose. You can design your own button with the onClick function - showOptin();-->

<button id="getNotif" onClick="showOptin();" style="display: none;" type="button">Get Notifications</button>
  
   <a onclick="_pcq.push(['triggerOptIn']);">
GET NOTIFICATIONS
</a>
   
<h1>CHELSEA!!!!</h1>
<p>The best club ever.</p>
  <body>
LOADED
</body>
<script>
        window._pcq = window._pcq || []; 
        _pcq.push(['noTrigger', true]); 
        _pcq.push(['APIReady', function() { 
            console.log("PUSH CREW IS READY");
        }, function(values){ 
            console.log(values);
        }]);

        setTimeout(function(){ 
			console.log('_pcq', _pcq);
			console.log('pushcrew', pushcrew)
		}, 500);
  </script>

</html>



